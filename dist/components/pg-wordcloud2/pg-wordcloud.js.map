{"version":3,"sources":["components/pg-wordcloud2/pg-wordcloud.js"],"names":["ChartElement","Element","element","ColorInterval","attached","_createOrUpdate","_attached","dataChanged","detached","console","log","_wordcloud","undefined","that","wordsResult","data","forEach","item","idx","className","push","text","key","weight","value","handlers","click","window","open","find","jQCloud","autoResize","fontSize","from","to"],"mappings":";;;;;;;;;AAAA;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIaA,Y,WAAAA,Y,WAFZ,qCAAc,cAAd,C,UACA,8BAAOC,OAAP,C;AASG,0BAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,aAFrBC,aAEqB,GAFL,EAEK;;AACjB,aAAKD,OAAL,GAAeA,OAAf;AACH;;2BAEDE,Q,uBAAW;AAEP,aAAKC,eAAL;AACA,aAAKC,SAAL,GAAiB,IAAjB;AACH,K;;2BAEDC,W,0BAAc;AACV,aAAKF,eAAL;AACH,K;;2BAEDG,Q,uBAAW;AACPC,gBAAQC,GAAR,CAAY,oBAAZ;AACA,aAAKC,UAAL,GAAkBC,SAAlB;AACH,K;;2BAEDP,e,8BAAkB;AACd,YAAIQ,OAAO,IAAX;;AAEA,aAAKC,WAAL,GAAmB,EAAnB;AACA,YAAI,KAAKC,IAAT,EAAe;AACX,iBAAKA,IAAL,CAAUC,OAAV,CAAkB,UAASC,IAAT,EAAeC,GAAf,EAAoB;AAClC,oBAAIC,YAAY,eAAeD,MAAML,KAAKV,aAA1C;AACAU,qBAAKC,WAAL,CAAiBM,IAAjB,CAAsB;AAClBC,0BAAMJ,KAAKK,GADO;AAElBC,4BAAQN,KAAKO,KAFK;AAGlBC,8BAAU;AACNC,+BAAO,iBAAW;AACdC,mCAAOC,IAAP,CAAY,kCAAkCX,KAAKK,GAAvC,GAA6C,WAAzD;AACH;AAHK;AAHQ,iBAAtB;AASH,aAXD;AAYA,kCAAE,KAAKpB,OAAP,EAAgB2B,IAAhB,CAAqB,eAArB,EAAsCC,OAAtC,CAA8CjB,KAAKC,WAAnD,EAAgE;AAC5DiB,4BAAY,IADgD;AAE5DC,0BAAU;AACNC,0BAAM,IADA;AAENC,wBAAI;AAFE;;AAFkD,aAAhE;AAUH,SAvBD,MAuBO;AACH,iBAAKvB,UAAL,GAAkBC,SAAlB;AAEH;AACJ,K;;;;;;;;;;;;eAvDmB,E","file":"pg-wordcloud.js","sourceRoot":"/src","sourcesContent":["import { inject, customElement, bindable } from 'aurelia-framework'\nimport $ from 'jquery';\nimport jqCloud from 'jqcloud2';\n\n@customElement('pg-wordcloud')\n@inject(Element)\nexport class ChartElement {\n    @bindable data;\n    @bindable loading;\n    @bindable options = {};\n\n    _wordcloud;\n    ColorInterval = 10;\n\n    constructor(element) {\n        this.element = element;\n    }\n\n    attached() {\n        // workaround https://github.com/aurelia/templating/issues/400\n        this._createOrUpdate();\n        this._attached = true;\n    }\n\n    dataChanged() {\n        this._createOrUpdate();\n    }\n\n    detached() {\n        console.log('wordcloud detached');\n        this._wordcloud = undefined;\n    }\n\n    _createOrUpdate() {\n        var that = this;\n\n        this.wordsResult = [];\n        if (this.data) {\n            this.data.forEach(function(item, idx) {\n                var className = 'cloudWord-' + idx % that.ColorInterval;\n                that.wordsResult.push({\n                    text: item.key,\n                    weight: item.value,\n                    handlers: {\n                        click: function() {\n                            window.open(\"https://twitter.com/search?q=\" + item.key + \"&src=typd\");\n                        }\n                    }\n                });\n            });\n            $(this.element).find('.pg-wordcloud').jQCloud(that.wordsResult, {\n                autoResize: true,\n                fontSize: {\n                    from: 0.15,\n                    to: 0.04\n                }\n\n            });\n\n\n        } else {\n            this._wordcloud = undefined;\n\n        }\n    }\n\n}"]}